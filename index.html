<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shilahit Detox: tratamiento natural desintoxicante.</title>
  <meta name="description" content="Shilahit Detox: tratamiento natural desintoxicante. Resultados desde el primer mes. Compra con envío rápido y pago a contra entrega." />
  <meta name="keywords" content="Shilahit Detox: tratamiento natural desintoxicante. Resultados desde el primer mes. Compra con envío rápido y pago a contra entrega." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
  
  <style>
    :root{
      --red:#0c8b08; --red-dark:#b91c1c; --gold:#ffb300; --black:#0b0b0b;
      --surface:#111; --card:#151515; --muted:#b8c0cc;
      --ok:#10b981; --warn:#f59e0b; --ring:#ffffff22;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0b0b0b,#121212 60%,#0b0b0b);color:#eaeaea;font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;padding: 12px;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block;margin: 16px 2px;border-radius: 16px;border: 1px solid white;box-shadow: 1px 1px 1px rgba(255, 255, 255, 0.644);}

    /* Global effects */
    .btn{display:inline-flex;gap:.6rem;align-items:center;justify-content:center;padding:14px 22px;border-radius:999px;background:var(--red);font-weight:700;letter-spacing:.2px;width: 100%;color: white;transition:.2s; margin: 16px 2px;		-webkit-animation: heartbeat 1.5s ease-in-out infinite both;animation: heartbeat 1.5s ease-in-out infinite both;}
    .btn:hover{background:var(--red-dark);transform:translateY(-1px)}
    .btn.outline{background:transparent;border:1px solid #ffffff33;animation: none;}
    .contenedorbtn{display:flex;justify-content:center;margin-top: -20px; margin-bottom: -20px;}
 

    /* Loading state for button */
    .btn.loading{opacity:.85;pointer-events:none}
    .btn .spinner{width:18px;height:18px;border-radius:999px;border:3px solid #ffffff55;border-top-color:#fff;animation:spin .8s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Hero */
    header.hero{position:relative;overflow:hidden}

    /* recientes */
    #orderForm{padding:18px;display:grid;gap:14px;}
    #orderForm div{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .preform{width: 100%;background-image: url(gifsex.gif);min-height: 350px;background-size: cover;border-radius: 16px;background-attachment: fixed;max-width: 1100px;background-position: center;display: flex; flex-wrap: wrap; justify-content: center; align-items: flex-end;}

    /* Responsive */
    @media (max-width: 980px){
      header{background-size: 380px;background-repeat: no-repeat;background-position: 95px 40px;}
      #orderForm div{display:grid;grid-template-columns:1fr;gap:12px}
      .preform{background-position: -330px; display: block;}
    }

    /* Inputs */
    .in{width:100%;margin-top:6px;padding:12px 14px;border:1px solid #ffffff22;background:#0f0f0f;border-radius:12px;color:#eaeaea;outline:none}
    .in:focus{border-color:var(--gold);box-shadow:0 0 0 4px var(--ring)}
    label{display:block;font-weight:600}
    .error{border-color:#ef4444!important}

    /* ====== NUEVO: estilos del modal, selector de ofertas y totales (aislados, sin tocar lo existente) ====== */
    .modal-overlay{position:fixed;inset:0;background:#000a;backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:1000;padding:16px}
    .modal{width:min(960px,100%);max-height:92vh;overflow:auto;background:#0e0e0e;border:1px solid #ffffff22;border-radius:16px;box-shadow:0 30px 80px #000c}
    .modal header{position:sticky;top:0;background:#0e0e0ef2;padding:16px 18px;border-bottom:1px solid #ffffff1a;display:flex;justify-content:space-between;align-items:center}
    .modal h3{margin:0;font-size:1.4rem}
    .modal .close{background:transparent;border:0;color:#fff;font-size:1.6rem;cursor:pointer;line-height:1}
    .modal .body{padding:18px}
    .modal .footer{padding:16px;border-top:1px solid #ffffff1a;display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-end}
    .offers{display:grid;grid-template-columns:1fr;gap:12px;margin:12px 0 8px}
    .offer-card{display:grid;grid-template-columns:92px 1fr auto;gap:12px;align-items:center;padding:12px;border:1px solid #ffffff22;border-radius:14px;background:#101010;cursor:pointer;transition:.2s}
    .offer-card:hover{border-color:#ffffff55;transform:translateY(-1px)}
    .offer-card.active{outline:2px solid var(--red);box-shadow:0 0 0 4px #ffffff12 inset}
    .offer-img{width:92px;height:92px;display:flex;align-items:center;justify-content:center;background:#0b0b0b;border-radius:10px;border:1px solid #ffffff14;overflow:hidden}
    .offer-title{font-weight:700}
    .offer-badge{display:inline-flex;align-items:center;gap:6px;font-size:.75rem;padding:4px 8px;border-radius:999px;border:1px solid #ffffff22;margin-left:6px}
    .badge-hot{background:#1e3a8a;color:#fff;border-color:transparent}
    .badge-save{background:#0f5132;color:#c6f6d5;border-color:transparent}
    .price{display:flex;flex-direction:column;align-items:flex-end}
    .price .compare{color:#94a3b8;text-decoration:line-through;font-size:.9rem}
    .price .current{font-size:1rem;font-weight:800}
    .totals{display:grid;gap:6px;padding:12px;border:1px dashed #ffffff33;border-radius:12px;background:#0b0b0b;margin:8px 0 14px}
    .row{display:flex;justify-content:space-between;gap:12px}
    .row strong{font-weight:800}
    @media (max-width:980px){
      .offer-card{grid-template-columns:53px 1fr auto}
      .offer-img{width:50px;height:50px}
    }

  @-webkit-keyframes heartbeat {
    from {transform: scale(1);transform-origin:center;animation-timing-function:ease-out}
    10% {transform: scale(0.91);animation-timing-function:ease-in}
    17% {transform: scale(0.98);animation-timing-function:ease-out}
    33% {transform: scale(0.87);animation-timing-function:ease-in}
    45% {transform: scale(1);animation-timing-function:ease-out}
  }
  @keyframes heartbeat {
    from {transform: scale(1);transform-origin:center;animation-timing-function:ease-out}
    10% {transform: scale(0.91);animation-timing-function:ease-in}
    17% {transform: scale(0.98);animation-timing-function:ease-out}
    33% {transform: scale(0.87);animation-timing-function:ease-in}
    45% {transform: scale(1);animation-timing-function:ease-out}
  }
  </style>
</head>
<body>

  <header class="hero">
    <img src="imageneswebp/imagen1.webp" alt="">
  </header>
    


  <main>
    <img src="imageneswebp/imagen2.webp" alt="">
    <div class="contenedorbtn">
        <a href="#checkout" class="btn">Ordenar ahora</a>
    </div>

    <img src="imageneswebp/imagen3.webp" alt="">

    <img loading="lazy" src="imageneswebp/imagen4.webp" alt="">
    <img loading="lazy" src="imageneswebp/imagen5.webp" alt="">
    <img loading="lazy" src="imageneswebp/imagen6.webp" alt="">
           <div class="contenedorbtn">
        <a href="#oferta" class="btn">Comenzar ahora</a>
    </div>
    <img loading="lazy" src="imageneswebp/imagen7.webp" alt="">
    <img loading="lazy" src="imageneswebp/imagen8.webp" alt="">
    <img loading="lazy" src="imageneswebp/imagen9.webp" alt="">
    <div class="contenedorbtn">
         <a href="#checkout" class="btn">Ordenar ahora</a>
    </div>


  </main>

  <!-- ===== MODAL DE OFERTAS ===== -->
  <div class="modal-overlay" id="checkoutModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal">
      <header>
        <div>
          <h3 id="modalTitle">Elije tu Oferta</h3>
          <div class="muted" id="modalSubtitle">Recuerda que pagas al recibir</div>
        </div>
        <button class="close" id="closeCheckout" aria-label="Cerrar">×</button>
      </header>
      <div class="body">
        <!-- Selector de ofertas -->
        <div class="offers" id="offerList">
          <!-- Opción 1 -->
          <div class="offer-card" data-offer="Compra 1" data-qty="1" data-price="150000" data-compare="150000" tabindex="0">
            <div class="offer-img"><img src="imageneswebp/Soloshilajit.webp" alt="Zipper Strong"></div>
            <div>
              <div class="offer-title">Compra 1</div>
              <div class="muted">1 Shilahit Detox (180 tabletas)</div>
              <span class="offer-badge badge-hot"></span>
            </div>
            <div class="price">
              <span class="current">$150.000</span>
            </div>
          </div>
          <!-- Opción 2 -->
          <div class="offer-card" data-offer="Compra 1 + Virilex -50%" data-qty="2" data-price="225000" data-compare="300000" tabindex="0">
            <div class="offer-img"><img src="imageneswebp/Soloshilajit.webp" alt="Zipper Strong + Virilex"></div>
            <div>
              <div class="offer-title">Compra 2</div>
              <div class="muted">1 Shilahit Detox segundo con 50% de descuento</div>
              <span class="offer-badge badge-hot">Más vendido</span>
            </div>
            <div class="price">
              <span class="compare">$300.000</span>
              <span class="current">$225.000</span>
            </div>
          </div>
          <!-- Opción 3 -->
          <div class="offer-card" data-offer="Compra 2 + 1 GRATIS" data-qty="3" data-price="300000" data-compare="450000" tabindex="0">
            <div class="offer-img"><img src="imageneswebp/Soloshilajit.webp" alt="Zipper Strong 2+1"></div>
            <div>
              <div class="offer-title">Compra 2 Shilahit Detox + 1 GRATIS</div>
              <div class="muted">Tratamiento extendido (9 meses)</div>
              <span class="offer-badge badge-save">Más ahorro</span>
            </div>
            <div class="price">
              <span class="compare">$450.000</span>
              <span class="current">$300.000</span>
            </div>
          </div>
        </div>

        <!-- Totales -->
        <div class="totals" id="totalsBox" aria-live="polite">
          <div class="row"><span>Total</span><strong id="totalPrice">$0</strong></div>
          <div class="row"><span>Envío</span><strong class="accent">Gratis</strong></div>
        </div>

        <!-- Formulario dentro del modal -->
        <form id="orderForm" class="glass" novalidate>
          <!-- Honeypot -->
          <input type="text" name="website" id="hp" style="position:absolute;left:-9999px;top:-9999px" tabindex="-1" autocomplete="off" aria-hidden="true">

          <div>
            <label>Nombre y Apellidos
              <input required name="name" type="text" placeholder="Tu nombre completo" class="in" maxlength="80">
            </label>
            <label>WhatsApp
              <input required name="phone" type="tel" inputmode="numeric" placeholder="3xx xxx xxxx" class="in" maxlength="13">
            </label>
          </div>

          <div>
            <label>Departamento
              <select required name="state" class="in">
                <option value="" selected disabled>Selecciona</option>
                <option>Amazonas</option><option>Antioquia</option><option>Arauca</option><option>Atlántico</option>
                <option>Bolívar</option><option>Boyacá</option><option>Caldas</option><option>Caquetá</option><option>Casanare</option><option>Cauca</option><option>Cesar</option>
                <option>Chocó</option><option>Córdoba</option><option>Cundinamarca</option><option>Guainía</option><option>Guaviare</option><option>Huila</option><option>La Guajira</option>
                <option>Magdalena</option><option>Meta</option><option>Nariño</option><option>Norte de Santander</option><option>Putumayo</option><option>Quindío</option><option>Risaralda</option>
                <option>San Andrés y Providencia</option><option>Santander</option><option>Sucre</option><option>Tolima</option><option>Valle del Cauca</option><option>Vaupés</option><option>Vichada</option>
              </select>
            </label>
            <label>Ciudad / Municipio
              <input required name="city" type="text" placeholder="Ej. Bogotá, Medellín" class="in" maxlength="60">
            </label>
          </div>

          <label>Dirección de entrega
            <input required name="address" type="text" placeholder="Calle 00 # 00-00, apto, barrio" class="in" maxlength="120">
          </label>

          <div>
            <label>Cantidad
              <select name="qty" class="in">
                <option>1 frasco</option>
                <option>2 frascos</option>
                <option>3 frascos</option>
              </select>
            </label>
          </div>

          <label style="display:flex;gap:10px;align-items:flex-start">
            <input type="checkbox" required name="terms" style="accent-color:var(--red)">
            <span class="muted">Acepto la política de tratamiento de datos y autorizo el contacto para coordinar el envío.</span>
          </label>

          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <button type="submit" id="submitBtn" class="btn">
              <span class="btn-text">Confirmar pedido</span>
            </button>
          </div>

          <div id="formMsg" class="muted" role="status" aria-live="polite" style="margin-top:8px"></div>
        </form>

        <div id="formMount"></div>
      </div>
      <div class="footer">
        <small class="muted">Protegemos tus datos. Usamos la información únicamente para gestionar tu pedido.</small>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script>

    


    // ====== FORM LOGIC (Sheets) ====== (SE MANTIENE INTACTO)
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycby74C6ITsLLaJMw_JciXWFqYNr13EIW6CzDUlEh8xXjbXutwON_1mVg33mO6wH7FSfLWA/exec";

    document.getElementById("orderForm").addEventListener("submit", e => {
      e.preventDefault();

      const form = e.target;
      const msg = document.getElementById("formMsg");
      const btn = document.getElementById("submitBtn");

      // Anti-spam honeypot
      if (form.website.value !== "") return;

      const data = {
        name: form.name.value,
        phone: form.phone.value,
        state: form.state.value,
        city: form.city.value,
        address: form.address.value,
        qty: form.qty.value
      };

      btn.disabled = true;
      msg.textContent = "Enviando pedido...";

      fetch(SCRIPT_URL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      }).then(() => {
        msg.textContent = "✅ Pedido enviado correctamente. Pronto te contactaremos.";
        form.reset();
      }).catch(() => {
        msg.textContent = "❌ Hubo un error, inténtalo nuevamente.";
      }).finally(() => {
        btn.disabled = false;
      });
    });

    // ===== Lógica del modal y selector de ofertas =====
    const modal = document.getElementById('checkoutModal');
    const form = document.getElementById('orderForm');
    const formMount = document.getElementById('formMount');
    const closeBtn = document.getElementById('closeCheckout');

    // Ocultar "Cantidad" y referenciar el select
    const qtySelect = form.querySelector('select[name="qty"]');
    const qtyLabel = qtySelect ? qtySelect.closest('label') : null;
    if (qtyLabel) qtyLabel.style.display = 'none'; // oculto sin tocar CSS global

    function openModal(){
      // Añadir campos ocultos de oferta si no existen
      if (!form.querySelector('input[name="offer"]')) {
        const hiddenOffer = document.createElement('input');
        hiddenOffer.type = 'hidden'; hiddenOffer.name = 'offer'; hiddenOffer.id = 'offer';
        form.appendChild(hiddenOffer);
      }
      if (!form.querySelector('input[name="offer_price"]')) {
        const hiddenPrice = document.createElement('input');
        hiddenPrice.type = 'hidden'; hiddenPrice.name = 'offer_price'; hiddenPrice.id = 'offer_price';
        form.appendChild(hiddenPrice);
      }
      // Colocar el form en el mount dentro del modal (no se duplica)
      if (formMount && form && form.parentElement !== formMount) {
        formMount.appendChild(form);
      }
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }
    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

    // Abrir modal desde CTAs existentes (sin modificar su HTML)
    document.querySelectorAll('a[href="#checkout"], a[href="#oferta"].btn, .cta-row .btn').forEach(el=>{
      const text = el.textContent.trim().toLowerCase();
      if(text.includes('ordenar ahora') || text.includes('quiero recuperar') || text.includes('comenzar ahora')) {
        el.addEventListener('click', (ev)=>{ ev.preventDefault(); openModal(); });
      }
    });

    // Selector de ofertas
    const offerCards = Array.from(document.querySelectorAll('.offer-card'));
    const totalPrice = document.getElementById('totalPrice');
    function formatCOP(n){
      return n.toLocaleString('es-CO',{style:'currency',currency:'COP',maximumFractionDigits:0});
    }

    function selectOffer(card){
      offerCards.forEach(c=>c.classList.remove('active'));
      card.classList.add('active');

      const price = Number(card.dataset.price);
      totalPrice.textContent = formatCOP(price);

      // Rellenar inputs ocultos (si existen)
      const offerInput = document.getElementById('offer');
      const offerPriceInput = document.getElementById('offer_price');
      if (offerInput) offerInput.value = card.dataset.offer;
      if (offerPriceInput) offerPriceInput.value = String(price);

      // Autocompletar "Cantidad" según oferta (aunque esté oculta)
      if (qtySelect) {
        const q = parseInt(card.dataset.qty, 10) || 1;
        const val = q === 1 ? '1 frasco' : `${q} frascos`;
        qtySelect.value = val;
      }
    }

    offerCards.forEach(c=>{
      c.addEventListener('click', ()=> selectOffer(c));
      c.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); selectOffer(c); } });
    });

    // Selección por defecto
    selectOffer(offerCards[1] || offerCards[0]);
  </script>
</body>

</html>


